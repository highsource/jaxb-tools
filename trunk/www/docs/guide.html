<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html>
	<head>
		<title>JAXB2 Maven2 Plugin -Reference Guide</title>
	</head>
	<body>
		<h1>About the plugin</h1>
		<p>JAXB2 Maven2 plugin which allows you to generate code with <a 
			href="http://jaxb.dev.java.net/">JAXB RI</a> in Maven builds. The 
			plugin takes part in the <code>generate-code</code> phase and 
			produces code of the schema-derived classes (plus maybe some other 
			resources) out of the XML Schemas, DTDs and so on.</p>
		<h1>Using the plugin</h1>
		<h2>Basic usage</h2>
		<p>In order to use the plugin, you first have to make it available to 
			your build. The plugin is distributed via the <a 
			href="https://maven2-repository.dev.java.net">dev.java.net Maven2 
			repository</a>, so add this to your <code>pom.xml</code>:</p>
		<pre><code>&lt;repositories>
	&lt;repository>
		&lt;id>maven2-repository.dev.java.net&lt;/id>
		&lt;name>Java.net Maven 2 Repository&lt;/name>
		&lt;url>http://download.java.net/maven/2&lt;/url>
	&lt;/repository>
	&lt;repository>
		&lt;id>maven-repository.dev.java.net&lt;/id>
		&lt;name>Java.net Maven 1 Repository (legacy)&lt;/name>
		&lt;url>http://download.java.net/maven/1&lt;/url>
		&lt;layout>legacy&lt;/layout>
	&lt;/repository>
&lt;/repositories>
&lt;pluginRepositories>
	&lt;pluginRepository>
		&lt;id>maven2-repository.dev.java.net&lt;/id>
		&lt;url>http://download.java.net/maven/2&lt;/url>
	&lt;/pluginRepository>
	&lt;pluginRepository>
		&lt;id>maven-repository.dev.java.net&lt;/id>
		&lt;name>Java.net Maven 1 Repository (legacy)&lt;/name>
		&lt;url>http://download.java.net/maven/1&lt;/url>
		&lt;layout>legacy&lt;/layout>
	&lt;/pluginRepository>
&lt;/pluginRepositories></code></pre>
		<p>When this is done, simply add the <code>generate</code> execution 
			goal to the build:</p>
		<pre><code>&lt;build>
	&lt;plugins>
		&lt;plugin>
			&lt;groupId>org.jvnet.jaxb2.maven2&lt;/groupId>
			&lt;artifactId>maven-jaxb2-plugin&lt;/artifactId>
			&lt;executions>
				&lt;execution>
					&lt;goals>
						&lt;goal>generate&lt;/goal>
					&lt;/goals>
				&lt;/execution>
			&lt;/executions>
		&lt;/plugin>
	&lt;/plugins>
&lt;/build></code></pre>
		<p>To compile the generated sources, set <code>1.5</code> in 
			<code>source</code> and <code>target</code> of the 
			<code>maven-compiler-plugin</code>:</p>
		<pre><code>&lt;build>
	&lt;plugins>
		...
		&lt;plugin>
			&lt;inherited>true&lt;/inherited>
			&lt;groupId>org.apache.maven.plugins&lt;/groupId>
			&lt;artifactId>maven-compiler-plugin&lt;/artifactId>
			&lt;configuration>
				&lt;source>1.5&lt;/source>
				&lt;target>1.5&lt;/target>
			&lt;/configuration>
		&lt;/plugin>
	&lt;/plugins>
&lt;/build></code></pre>
		<p>See the <a href="http://download.java.net/maven/2/org/jvnet/jaxb2/maven2/maven-jaxb2-plugin-samples-po/0.4.M1/maven-jaxb2-plugin-samples-po-0.4.M1-maven-src.zip">sample PO project</a>
			for example.</p>
		<h2>Configuring the plugin</h2>
		<p>The plugin has a large number of configuration options. Please see 
			the <a href="/nonav/maven-jaxb2-plugin-project/maven-jaxb2-plugin/generate-mojo.html">plugin documentation</a> for a complete reference.</p>
		<h3>Basic configuration options</h3>
		<h4>Specifying schemas and bindings to compile</h4>
		<dl>
			<dt><code>schemaDirectory</code></dt>
			<dd>Specifies the schema directory, <code>src/main/resources</code> by default.</dd>
			<dt><code>schemaIncludes</code></dt>
			<dd>Specifies file patterns to include as schemas. By default all <code>*.xsd</code> files will be included.</dd>
			<dt><code>schemaExcludes</code></dt>
			<dd>Specifies file patterns of schemas to exclude. By default, nothing is excluded.</dd>
			<dt><code>bindingDirectory</code></dt>
			<dd>Specifies the binding directory, defaults to the schema directory.</dd>
			<dt><code>bindingIncludes</code></dt>
			<dd>Specifies file patterns to include as bindings. By default all <code>*.xjb</code> files will be included.</dd>
			<dt><code>bindingExcludes</code></dt>
			<dd>Specifies file patterns of bindings to exclude. By default, nothing is excluded.</dd>
			<dt><code>schemaLanguage</code></dt>
			<dd>Type of input schema language. One of: <code>DTD</code>, <code>XMLSCHEMA</code>, <code>RELAXNG</code>, <code>RELAXNG_COMPACT</code>, <code>WSDL</code>, <code>AUTODETECT</code>. If unspecified, it is assumed AUTODETECT.</dd>
		</dl>
		<p>Below is an example of a non-standard directory layout configuration:</p>
		<pre><code>&lt;configuration>
	&lt;!-- Changes the default schema directory -->
	&lt;schemaDirectory>src/main/schema&lt;/schemaDirectory>
	&lt;schemaIncludes>
		&lt;include>one/*/*.xsd&lt;/include>
	&lt;/schemaIncludes>			
	&lt;schemaExcludes>
		&lt;exclude>one/two/*.xsd&lt;/exclude>
	&lt;/schemaExcludes>			
	&lt;bindingDirectory>src/main/binding&lt;/bindingDirectory>
	&lt;bindingIncludes>
		&lt;include>one/*/*.xjb&lt;/include>
	&lt;/bindingIncludes>			
	&lt;bindingExcludes>
		&lt;exclude>one/two/*.xjb&lt;/exclude>
	&lt;/bindingExcludes>			
&lt;/configuration></code></pre>

		<p>If you want to compile DTD, change the <code>schemaLanguage</code> to <code>DTD</code> and set the appropriate <code>schemaIncludes</code>:
		<pre><code>&lt;configuration>
	&lt;schemaLanguage>DTD&lt;/schemaLanguage>
	&lt;schemaIncludes>
		&lt;include>*.dtd&lt;/include>
	&lt;/schemaIncludes>
&lt;/configuration></code></pre>		
		<p>See the <a href="TODO">sample DTD project</a>
			for example.</p>
			
		<h4>Controlling the output</h4>
		<dl>
			<dt><code>generateDirectory</code></dt>
			<dd>Target directory for the generated code, <code>target/generated-sources/xjc</code> by default.</dd>
			<dt><code>generatePackage</code></dt>
			<dd> The generated classes will all be placed under this Java package (XJC's <code>-p</code> option), unless otherwise specified in the schemas. If left unspecified, the package will be derived from the schemas only.</dd>
			<dt><code>writeCode</code></dt>
			<dd>If <code>false</code>, the plugin will not write the generated code to disk, <code>true</code> by default.</dd>
			<dt><code>readOnly</code></dt>
			<dd>If <code>true</code>, the generated Java source files are set as read-only (XJC's <code>-readOnly</code> option). Default is <code>false</code>.</dd>
			<dt><code>removeOldOutput</code></dt>
			<dd>If <code>true</code> (default), the <code>generateDirectory</code> will be deleted before the XJC binding compiler recompiles the source files.</dd>
			<dt><code>forceRegenerate</code></dt>
			<dd>If <code>true</code>, no up-to-date check is performed and the XJC always re-generates the sources. Otherwise schemas will only be recompiled if anything has changed (this is the default behavior).</dd>
		</dl>
			
		<h4>Controlling the extension and validation modes</h4>
		<dl>
			<dt><code>extension</code></dt>
			<dd>If <code>true</code>, the XJC binding compiler will run in the extension mode (XJC's <code>-extension</code> option).
Otherwise, it will run in the strict conformance mode (this is the default).<br/>
Please note that you must enable the extension mode if you use vendor extensions in your bindings.</dd>
			<dt><code>strict</code></dt>
			<dd>If <code>true</code> (default), XJC will perform strict validation of the input schema. If <code>strict</code> is set to <code>false</code>
XJC will be run with <code>-nv</code>, this disables strict validation of schemas.</dd>
		</dl>
			
		<h4>Setting the debug options</h4>
		<dl>
			<dt><code>debug</code></dt>
			<dd>If <code>true</code>, the XJC compiler is set to debug mode (XJC's <code>-debug</code> option) and the <code>com.sun.tools.xjc.Options.findServices</code> property is set, to print any plugin instantiation messages.<br/>
It is automatically set to <code>true</code> when Maven is run in debug mode (mvn's <code>-X</code> option).</dd>
			<dt><code>verbose</code></dt>
			<dd> If <code>true</code>, the plugin and the XJC compiler are both set to verbose mode (XJC's <code>-verbose</code> option).
It is automatically set to <code>true</code> when Maven is run in debug mode (mvn's <code>-X</code> option).</dd>
		</dl>
			
		<h4>Using custom JAXB2 plugins</h4>
		<dl>
			<dt><code>plugins/plugin</code></dt>
			<dd>Configures artifacts of the custom JAXB2 plugins you want to use.</dd>
			<dt><code>args/arg</code></dt>
			<dd>A list of extra XJC's command-line arguments (items must include the dash <code>"-"</code>). Use this argument to enable the JAXB2 plugin you want to use.</dd>
		</dl>
		<p>Example:</p>
<pre><code>&lt;configuration>
	&lt;extension>true&lt;/extension>
	&lt;args>
		&lt;arg>-XtoString&lt;/arg>
		&lt;arg>-Xequals&lt;/arg>
		&lt;arg>-XhashCode&lt;/arg>
		&lt;arg>-Xcopyable&lt;/arg>
	&lt;/args>
	&lt;plugins>
		&lt;plugin>
			&lt;groupId>org.jvnet.jaxb2_commons&lt;/groupId>
			&lt;artifactId>basic&lt;/artifactId>
			&lt;version>0.2.GA&lt;/version>
		&lt;/plugin>
	&lt;/plugins>
&lt;/configuration></code></pre>
			
		<p>See the <a href="TODO">sample JAXB2 plugins project</a> for example.</p>

	</body>
</html>